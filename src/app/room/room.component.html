<div class="container">
    <mat-toolbar >
        <p style="margin: 0px;"><i>{{friend?.firstName}}</i> <i> {{friend?.lastName}}</i></p>
        <button mat-icon-button (click)="connect()"><mat-icon svgIcon="whatsapp"></mat-icon></button>
        <button mat-icon-button (click)="call()"><mat-icon svgIcon="duo"></mat-icon></button>
    </mat-toolbar>
    <mat-divider></mat-divider>
    <div #scroll id="scroll-div-1"
    style="
        background-color: aquamarine; 
        flex-grow: 1; width:80%;  height:100%;
        margin: 15px auto; overflow-y: scroll; scroll-behavior: smooth;"
        infinite-scroll
        [infiniteScrollDistance]="1"
        [infiniteScrollUpDistance]="1"
        [infiniteScrollThrottle]="1"
        (scrolledUp)="onScroll()"
        [scrollWindow]="false">
        <div *ngFor="let message of room?.messages">
            <div [ngClass]="message.sender === me.id? 'sender': 'recivier'">
                <p>{{message.content}}</p>
                <p>{{message.creationDate}}</p>
            </div>

            <mat-divider></mat-divider>
        </div>
    </div>
    <div mat-line style="width:80%; margin: auto; text-align:center; display: flex; justify-content: space-between;">
            <input matInput style="    width: 100%;
            border-radius: 15px;
            border: 1px solid gray;
            margin: 15px 0;
            height: 30px;" [formControl]="msg" type="text">
        <button mat-icon-button (click)="send()" style="margin: auto;">
            <mat-icon svgIcon="send"></mat-icon>
        </button>
    </div>
</div>